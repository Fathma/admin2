<%- include('../partials/_head') %>

<div class="container-fluid" style="width:100%;min-height: 700px">
    <div class="register-logo">
        <a href="#"><b>Invoice</b>List</a>
    </div>
 <div class="row">
        <button class="btn bg-green" style="float: right;margin: 10px 20px;" id="btnExport"
            onclick="javascript:xport.toXLS('ptable');">
            <li class="fa fa-download" style="padding: 5px"></li>Export as Excel
        </button>
        
    </div><br>
    <div style="background-color: white">
        <table id="ptable" style="width:100%" class="table table-striped" >
            <thead>
            <tr>
                <th>#</th>
                <th>INVOICE NUMBER </th>
                <th>ORDER ID</th>
                <th>ORDER DATE</th>
                <th>STATUS</th>
                <th>TOTAL</th>
                <th>ACTION</th>
            </tr>
            </thead>
            <tbody>
            <% for(let i=0; i< invoices.length; i++){ %>

          
            <tr>
                <td><%=invoices[i].count%></td>
                <td><%=invoices[i].invoiceId%></td>
                <td><%=invoices[i].order.orderId%></td>
                <td><%=invoices[i].order.currentStatus%></td>
                <td><%=invoices[i].order.totalAmount%>TK</td>
                <td><a href="/orders/ViewInvoice/<%=invoices[i]._id%>" data-toggle="tooltip" data-placement="top" title="View details"  class="btn btn-primary btn-sm">View</a></td>
            </tr>
           
        <% } %>

            </tbody>
        </table>

    </div>

</div>
<br>
<script>
    $(document).ready(function() {
        $('#ptable').DataTable( {
            stateSave: true
        } );
    } );
</script>
<%- include('../partials/_footer') %>
